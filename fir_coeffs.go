package main

/*
Below you'll find a set of coefficients for each sample rate.
If you need your own sample rate you can use this octave function to get them.
Fs is sampling rate, coeffs is the output vector,
changing N to higher values will make the filter slower but more precise,
N has to be a multiple of 4

function coeffs = fir_pristella(Fs, Attn, N)
    Fcut1 = 10000
    Fcut2 = 18000

    f = [0, (2*Fcut1/Fs), (2*Fcut2/Fs), 1]
    a = [1, 1, Attn, Attn]
    coeffs = remez(N-1, f, a)
    printf("%f, ",coeffs)
endfunction
*/

//12.5k lowpass FIR coefficients for different sampling rates
var fir_coeffs map[int][]float32

func init_coeffs() {
	fir_coeffs = make(map[int][]float32)
	//short coeff fir_coeffs[1000000] = []float32{-0.004902, -0.000522, -0.000541, -0.000556, -0.000564, -0.000567, -0.000563, -0.000552, -0.000533, -0.000508, -0.000473, -0.000432, -0.000381, -0.000323, -0.000257, -0.000184, -0.000102, -0.000015, 0.000080, 0.000179, 0.000285, 0.000395, 0.000511, 0.000628, 0.000750, 0.000871, 0.000994, 0.001113, 0.001230, 0.001340, 0.001453, 0.001563, 0.001652, 0.001743, 0.001820, 0.001887, 0.001941, 0.001983, 0.002009, 0.002019, 0.002013, 0.001990, 0.001948, 0.001888, 0.001809, 0.001709, 0.001591, 0.001452, 0.001294, 0.001117, 0.000921, 0.000707, 0.000477, 0.000231, -0.000029, -0.000303, -0.000588, -0.000883, -0.001185, -0.001492, -0.001801, -0.002113, -0.002422, -0.002724, -0.003021, -0.003307, -0.003579, -0.003835, -0.004071, -0.004286, -0.004474, -0.004635, -0.004764, -0.004860, -0.004918, -0.004938, -0.004917, -0.004852, -0.004741, -0.004584, -0.004377, -0.004120, -0.003812, -0.003453, -0.003041, -0.002578, -0.002062, -0.001494, -0.000876, -0.000208, 0.000507, 0.001268, 0.002075, 0.002921, 0.003807, 0.004728, 0.005682, 0.006663, 0.007670, 0.008698, 0.009742, 0.010797, 0.011861, 0.012927, 0.013991, 0.015047, 0.016092, 0.017119, 0.018125, 0.019104, 0.020052, 0.020963, 0.021833, 0.022659, 0.023435, 0.024157, 0.024823, 0.025428, 0.025970, 0.026445, 0.026852, 0.027187, 0.027451, 0.027639, 0.027753, 0.037791, 0.027753, 0.027639, 0.027451, 0.027187, 0.026852, 0.026445, 0.025970, 0.025428, 0.024823, 0.024157, 0.023435, 0.022659, 0.021833, 0.020963, 0.020052, 0.019104, 0.018125, 0.017119, 0.016092, 0.015047, 0.013991, 0.012927, 0.011861, 0.010797, 0.009742, 0.008698, 0.007670, 0.006663, 0.005682, 0.004728, 0.003807, 0.002921, 0.002075, 0.001268, 0.000507, -0.000208, -0.000876, -0.001494, -0.002062, -0.002578, -0.003041, -0.003453, -0.003812, -0.004120, -0.004377, -0.004584, -0.004741, -0.004852, -0.004917, -0.004938, -0.004918, -0.004860, -0.004764, -0.004635, -0.004474, -0.004286, -0.004071, -0.003835, -0.003579, -0.003307, -0.003021, -0.002724, -0.002422, -0.002113, -0.001801, -0.001492, -0.001185, -0.000883, -0.000588, -0.000303, -0.000029, 0.000231, 0.000477, 0.000707, 0.000921, 0.001117, 0.001294, 0.001452, 0.001591, 0.001709, 0.001809, 0.001888, 0.001948, 0.001990, 0.002013, 0.002019, 0.002009, 0.001983, 0.001941, 0.001887, 0.001820, 0.001743, 0.001652, 0.001563, 0.001453, 0.001340, 0.001230, 0.001113, 0.000994, 0.000871, 0.000750, 0.000628, 0.000511, 0.000395, 0.000285, 0.000179, 0.000080, -0.000015, -0.000102, -0.000184, -0.000257, -0.000323, -0.000381, -0.000432, -0.000473, -0.000508, -0.000533, -0.000552, -0.000563, -0.000567, -0.000564, -0.000556, -0.000541, -0.000522, -0.004902}
	fir_coeffs[1000000] = []float32{-0.000288, -0.000191, -0.000114, -0.000087, -0.000084, -0.000081, -0.000085, -0.000082, -0.000085, -0.000081, -0.000083, -0.000077, -0.000076, -0.000068, -0.000066, -0.000056, -0.000052, -0.000039, -0.000033, -0.000019, -0.000011, 0.000004, 0.000014, 0.000031, 0.000041, 0.000059, 0.000070, 0.000088, 0.000099, 0.000116, 0.000126, 0.000142, 0.000151, 0.000166, 0.000173, 0.000185, 0.000189, 0.000199, 0.000200, 0.000206, 0.000203, 0.000205, 0.000198, 0.000195, 0.000184, 0.000177, 0.000161, 0.000149, 0.000129, 0.000113, 0.000088, 0.000069, 0.000040, 0.000017, -0.000014, -0.000040, -0.000073, -0.000100, -0.000135, -0.000162, -0.000197, -0.000224, -0.000257, -0.000282, -0.000312, -0.000334, -0.000360, -0.000377, -0.000398, -0.000409, -0.000424, -0.000427, -0.000435, -0.000430, -0.000430, -0.000417, -0.000407, -0.000385, -0.000366, -0.000335, -0.000308, -0.000268, -0.000233, -0.000185, -0.000142, -0.000087, -0.000038, 0.000023, 0.000077, 0.000140, 0.000197, 0.000263, 0.000320, 0.000385, 0.000440, 0.000502, 0.000553, 0.000609, 0.000653, 0.000702, 0.000736, 0.000774, 0.000798, 0.000823, 0.000833, 0.000845, 0.000839, 0.000835, 0.000814, 0.000793, 0.000755, 0.000718, 0.000663, 0.000609, 0.000538, 0.000469, 0.000383, 0.000300, 0.000202, 0.000107, -0.000001, -0.000104, -0.000220, -0.000328, -0.000447, -0.000556, -0.000674, -0.000780, -0.000893, -0.000991, -0.001095, -0.001181, -0.001270, -0.001340, -0.001412, -0.001461, -0.001511, -0.001536, -0.001560, -0.001559, -0.001555, -0.001525, -0.001492, -0.001432, -0.001368, -0.001278, -0.001185, -0.001065, -0.000944, -0.000797, -0.000650, -0.000479, -0.000310, -0.000119, 0.000066, 0.000271, 0.000468, 0.000681, 0.000882, 0.001096, 0.001294, 0.001501, 0.001688, 0.001881, 0.002050, 0.002221, 0.002363, 0.002504, 0.002612, 0.002716, 0.002784, 0.002845, 0.002866, 0.002878, 0.002849, 0.002809, 0.002725, 0.002631, 0.002492, 0.002342, 0.002148, 0.001945, 0.001698, 0.001444, 0.001149, 0.000850, 0.000513, 0.000176, -0.000195, -0.000560, -0.000954, -0.001337, -0.001744, -0.002131, -0.002537, -0.002916, -0.003307, -0.003664, -0.004025, -0.004344, -0.004661, -0.004927, -0.005185, -0.005384, -0.005568, -0.005686, -0.005785, -0.005810, -0.005811, -0.005732, -0.005625, -0.005433, -0.005212, -0.004901, -0.004561, -0.004128, -0.003665, -0.003110, -0.002527, -0.001851, -0.001152, -0.000361, 0.000447, 0.001344, 0.002251, 0.003243, 0.004234, 0.005306, 0.006367, 0.007503, 0.008614, 0.009794, 0.010936, 0.012141, 0.013291, 0.014498, 0.015634, 0.016822, 0.017920, 0.019066, 0.020103, 0.021185, 0.022138, 0.023137, 0.023982, 0.024882, 0.025598, 0.026383, 0.026948, 0.027612, 0.028001, 0.028547, 0.028723, 0.029195, 0.029026, 0.029960, 0.029960, 0.029026, 0.029195, 0.028723, 0.028547, 0.028001, 0.027612, 0.026948, 0.026383, 0.025598, 0.024882, 0.023982, 0.023137, 0.022138, 0.021185, 0.020103, 0.019066, 0.017920, 0.016822, 0.015634, 0.014498, 0.013291, 0.012141, 0.010936, 0.009794, 0.008614, 0.007503, 0.006367, 0.005306, 0.004234, 0.003243, 0.002251, 0.001344, 0.000447, -0.000361, -0.001152, -0.001851, -0.002527, -0.003110, -0.003665, -0.004128, -0.004561, -0.004901, -0.005212, -0.005433, -0.005625, -0.005732, -0.005811, -0.005810, -0.005785, -0.005686, -0.005568, -0.005384, -0.005185, -0.004927, -0.004661, -0.004344, -0.004025, -0.003664, -0.003307, -0.002916, -0.002537, -0.002131, -0.001744, -0.001337, -0.000954, -0.000560, -0.000195, 0.000176, 0.000513, 0.000850, 0.001149, 0.001444, 0.001698, 0.001945, 0.002148, 0.002342, 0.002492, 0.002631, 0.002725, 0.002809, 0.002849, 0.002878, 0.002866, 0.002845, 0.002784, 0.002716, 0.002612, 0.002504, 0.002363, 0.002221, 0.002050, 0.001881, 0.001688, 0.001501, 0.001294, 0.001096, 0.000882, 0.000681, 0.000468, 0.000271, 0.000066, -0.000119, -0.000310, -0.000479, -0.000650, -0.000797, -0.000944, -0.001065, -0.001185, -0.001278, -0.001368, -0.001432, -0.001492, -0.001525, -0.001555, -0.001559, -0.001560, -0.001536, -0.001511, -0.001461, -0.001412, -0.001340, -0.001270, -0.001181, -0.001095, -0.000991, -0.000893, -0.000780, -0.000674, -0.000556, -0.000447, -0.000328, -0.000220, -0.000104, -0.000001, 0.000107, 0.000202, 0.000300, 0.000383, 0.000469, 0.000538, 0.000609, 0.000663, 0.000718, 0.000755, 0.000793, 0.000814, 0.000835, 0.000839, 0.000845, 0.000833, 0.000823, 0.000798, 0.000774, 0.000736, 0.000702, 0.000653, 0.000609, 0.000553, 0.000502, 0.000440, 0.000385, 0.000320, 0.000263, 0.000197, 0.000140, 0.000077, 0.000023, -0.000038, -0.000087, -0.000142, -0.000185, -0.000233, -0.000268, -0.000308, -0.000335, -0.000366, -0.000385, -0.000407, -0.000417, -0.000430, -0.000430, -0.000435, -0.000427, -0.000424, -0.000409, -0.000398, -0.000377, -0.000360, -0.000334, -0.000312, -0.000282, -0.000257, -0.000224, -0.000197, -0.000162, -0.000135, -0.000100, -0.000073, -0.000040, -0.000014, 0.000017, 0.000040, 0.000069, 0.000088, 0.000113, 0.000129, 0.000149, 0.000161, 0.000177, 0.000184, 0.000195, 0.000198, 0.000205, 0.000203, 0.000206, 0.000200, 0.000199, 0.000189, 0.000185, 0.000173, 0.000166, 0.000151, 0.000142, 0.000126, 0.000116, 0.000099, 0.000088, 0.000070, 0.000059, 0.000041, 0.000031, 0.000014, 0.000004, -0.000011, -0.000019, -0.000033, -0.000039, -0.000052, -0.000056, -0.000066, -0.000068, -0.000076, -0.000077, -0.000083, -0.000081, -0.000085, -0.000082, -0.000085, -0.000081, -0.000084, -0.000087, -0.000114, -0.000191, -0.000288}
}
